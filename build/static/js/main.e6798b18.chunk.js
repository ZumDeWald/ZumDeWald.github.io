(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(1),r=n.n(i),c=(n(14),n(2)),l=n(3),s=n(6),d=n(4),u=n(5);var f=function(e){var t=e.locations;return a.a.createElement("div",{id:"filter-bar"},a.a.createElement("h1",{id:"page-title"},"COFFEE.IN.THE.LOU"),a.a.createElement("div",{id:"filter-title"},a.a.createElement("strong",null,"Filter:")),a.a.createElement("select",{id:"filter-options",onChange:function(t){"See All Locations"===t.target.value?e.showAllLocations():e.onFilterMarker(t.target.value)}},a.a.createElement("option",{value:"See All Locations",className:"filter-option"},"See All Locations"),t.map(function(e,t){return a.a.createElement("option",{key:t,value:t,className:"filter-option"},e.title)})))};var p=function(e){var t=e.locations;return a.a.createElement("ul",{id:"list"},t.map(function(e,t){return a.a.createElement("li",{key:t,className:"list-item"},e.title)}))},m=n(7),g=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).onScriptLoad=n.onScriptLoad.bind(Object(m.a)(Object(m.a)(n))),n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"onScriptLoad",value:function(){var e=new window.google.maps.Map(document.getElementById(this.props.id),this.props.options);window.mainMap=e,this.props.onMapLoad(e)}},{key:"componentDidMount",value:function(){var e=this;if(window.google)this.onScriptLoad();else{var t=document.createElement("script");t.id="GoogleAPIScript",t.type="text/javascript",t.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAcGzKXNeOcVTjtGJ3mezaCbmfq3MAA3_c&v=3";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),t.addEventListener("load",function(t){e.onScriptLoad()})}}},{key:"render",value:function(){return a.a.createElement("div",{id:this.props.id})}}]),t}(o.Component),w=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"injectInfo",value:function(e,t){t?r.a.render(a.a.createElement("div",{className:"info-window"},a.a.createElement("div",null,a.a.createElement("strong",null,this.props.loc.title)),a.a.createElement("div",null,a.a.createElement("em",null,e.response.venue.location.address)),a.a.createElement("hr",null),a.a.createElement("div",null,"\xa0",e.response.venue.tips.groups[0].items[0].text)),document.getElementById("".concat(this.props.loc.title))):r.a.render(a.a.createElement("div",{className:"info-window-display"},"Error ",e.error),document.getElementById("".concat(this.props.loc.title)))}},{key:"componentDidMount",value:function(){var e=this;fetch("https://api.foursquare.com/v2/venues/".concat(this.props.loc.id,"?client_id=BITALC3HSA4PLMTBLQXFRKDYX1Y0SCCWFBMWZC2SW2CTKJFW&client_secret=ESBUR3GBTUWVOYGUWQ4BGET0A3DGI0VYQTWCS2H1RU5CPK2W&v=20180601")).then(function(e){return e.json()}).then(function(t){t&&e.injectInfo(t,!0)}).catch(function(t){e.injectInfo(t,!1)})}},{key:"render",value:function(){var e=this.props.loc;return a.a.createElement("div",{id:e.title},"Loading ...")}}]),t}(o.Component);var v=function(e){return a.a.createElement("div",{id:"footer"},a.a.createElement("span",{className:"footer-text"},"[ Tips in infowindows provided by Foursquare ]"))},h=(n(16),function(e){function t(){var e,n;Object(c.a)(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={locations:[{title:"Blueprint",location:{lat:38.6556835,lng:-90.3027671},fsID:"5224911e11d21d67f10a97d0"},{title:"Original Kaldi's",location:{lat:38.6386208,lng:-90.3097823},fsID:"4acbc3faf964a520f9c520e3"},{title:"Hartford",location:{lat:38.6027692,lng:-90.2545727},fsID:"4ae473a3f964a520a99a21e3"},{title:"Mud House",location:{lat:38.59302865,lng:-90.22218699999999},fsID:"4acbc3faf964a520d7c520e3"},{title:"Sump",location:{lat:38.5877544,lng:-90.2283778},fsID:"4ef9f1ff93ad7cf2ec969baa"}],showLocations:[{title:"Blueprint",location:{lat:38.6556835,lng:-90.3027671},fsID:"5224911e11d21d67f10a97d0"},{title:"Original Kaldi's",location:{lat:38.6386208,lng:-90.3097823},fsID:"4acbc3faf964a520f9c520e3"},{title:"Hartford",location:{lat:38.6027692,lng:-90.2545727},fsID:"4ae473a3f964a520a99a21e3"},{title:"Mud House",location:{lat:38.59302865,lng:-90.22218699999999},fsID:"4acbc3faf964a520d7c520e3"},{title:"Sump",location:{lat:38.5877544,lng:-90.2283778},fsID:"4ef9f1ff93ad7cf2ec969baa"}]},n.bounds=null,n.markers=[],n.setMapOnAll=function(e){n.markers.forEach(function(t){t.setMap(e)})},n.filterMarker=function(e){n.setMapOnAll(null),n.markers[e].setMap(window.mainMap),window.mainMap.panTo(n.markers[e].position),n.setState(function(t){return{showLocations:t.locations.filter(function(t){return t.title===n.markers[e].title})}})},n.showAllLocations=function(){n.setMapOnAll(window.mainMap),window.mainMap.fitBounds(n.bounds),n.setState({showLocations:n.state.locations})},n.mapLoad=function(e){n.bounds=new window.google.maps.LatLngBounds,n.state.locations.forEach(function(t,o){var a=t.location,i=t.title,r=t.fsID,c=new window.google.maps.Marker({map:e,position:a,title:i,animation:window.google.maps.Animation.DROP,id:r,zoom:20});n.bounds.extend(c.position),n.markers.push(c),c.addListener("click",function(){c.setAnimation(window.google.maps.Animation.BOUNCE),setTimeout(function(){c.setAnimation(null)},2e3),n.createInfoWindow(c,e)})}),e.fitBounds(n.bounds)},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"createInfoWindow",value:function(e,t){var n=e,o=e.id,i=new window.google.maps.InfoWindow({content:"<div id='".concat(o,"' />"),position:e.position,pixelOffset:new window.google.maps.Size(0,-50)});i.addListener("domready",function(e){r.a.render(a.a.createElement(w,{loc:n}),document.getElementById("".concat(o)))}),i.open(t)}},{key:"render",value:function(){var e=this.state,t=e.locations,n=e.showLocations;return a.a.createElement("div",{id:"container"},a.a.createElement("section",{id:"grid-top"},a.a.createElement(f,{locations:t,onFilterMarker:this.filterMarker,showAllLocations:this.showAllLocations})),a.a.createElement("section",{id:"grid-list"},a.a.createElement(p,{locations:n})),a.a.createElement("section",{id:"grid-map"},a.a.createElement(g,{id:"main-map",options:{center:{lat:31.7053996,lng:35.1936877},zoom:20},onMapLoad:this.mapLoad})),a.a.createElement("section",{id:"grid-footer"},a.a.createElement(v,null)))}}]),t}(o.Component)),E=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function b(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available; please refresh."),t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(a.a.createElement(h,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");E?(function(e,t){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):b(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):b(t,e)})}}()},9:function(e,t,n){e.exports=n(18)}},[[9,2,1]]]);
//# sourceMappingURL=main.e6798b18.chunk.js.map